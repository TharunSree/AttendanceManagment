{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Dore jQuery - Register</title> <!-- Updated title -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="{% static 'font/iconsmind-s/css/iconsminds.css' %}"/>
    <link rel="stylesheet" href="{% static 'font/simple-line-icons/css/simple-line-icons.css' %}"/>

    <link rel="stylesheet" href="{% static 'css/vendor/bootstrap.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/vendor/bootstrap.rtl.only.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/vendor/bootstrap-float-label.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/main.css' %}"/>
</head>

<body class="background show-spinner no-footer">
<div class="fixed-background"></div>
<main>
    <div class="container">
        <div class="row h-100">
            <div class="col-12 col-md-10 mx-auto my-auto">
                <div class="card auth-card">
                    <div class="position-relative image-side ">
                        <p class=" text-white h2">MAGIC IS IN THE DETAILS</p>
                        <p class="white mb-0">
                            Please use this form to register.
                            <br>If you are a member, please
                            <a href="{% url 'login' %}" class="white">login</a>. <!-- Updated link -->
                        </p>
                    </div>
                    <div class="form-side">
                        <a href="/"> <!-- Link to home or dashboard -->
                            <span class="logo-single"></span>
                        </a>
                        <h6 class="mb-4">Register</h6>

                        {% if messages %}
                            {% for message in messages %}
                                <div class="alert alert-
                                        {% if message.tags %}{{ message.tags }}{% else %}info{% endif %} alert-dismissible fade show"
                                     role="alert">
                                    {{ message }}
                                    <button type="button" class="btn-close" data-bs-dismiss="alert"
                                            aria-label="Close"></button>
                                </div>
                            {% endfor %}
                        {% endif %}

                        <!-- Form-level errors (e.g., non_field_errors) -->
                        {% if form.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                                {% for error in form.non_field_errors %}
                                    {{ error }}<br>
                                {% endfor %}
                            </div>
                        {% endif %}

                        <form method="post" action="{% url 'register' %}">
                            {% csrf_token %}

                            <!-- Render form fields. UserCreationForm includes username, password1, password2 -->
                            <!-- You can render them individually for more control, or as_p for simplicity -->

                            {{ form.as_p }}
                            <!--
                                    Alternatively, to style each field like your original template:
                                    This requires more work to match the float-label style perfectly.
                                    The UserCreationForm fields are 'username', 'password', 'password2'.
                                    You'd need to wrap each {{ form.fieldname }} and its {{ form.fieldname.label_tag }}
                                    and {{ form.fieldname.errors }} similar to how we did in login.html.
                                    For now, {{ form.as_p }} will render them as paragraphs.
                                    Or, {{ form.as_ul }} or {{ form.as_table }}.
                                -->

                            <!-- Example for individual field rendering (adjust for float-label style):
                                <label class="form-group has-float-label mb-4">
                                    {{ form.username }}
                                    <span>{{ form.username.label_tag }}</span>
                                    {% if form.username.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.username.errors %}{{ error }}{% endfor %}
                                        </div>
                                    {% endif %}
                                </label>

                                <label class="form-group has-float-label mb-4">
                                    {{ form.password1 }}
                                    <span>{{ form.password1.label_tag }}</span>
                                     {% if form.password1.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.password1.errors %}{{ error }}{% endfor %}
                                        </div>
                                    {% endif %}
                                </label>

                                <label class="form-group has-float-label mb-4">
                                    {{ form.password2 }}
                                    <span>{{ form.password2.label_tag }}</span>
                                     {% if form.password2.errors %}
                                        <div class="invalid-feedback d-block">
                                            {% for error in form.password2.errors %}{{ error }}{% endfor %}
                                        </div>
                                    {% endif %}
                                </label>
                                -->

                            <div class="d-flex justify-content-end align-items-center mt-4">
                                <!-- Added mt-4 for spacing -->
                                <button class="btn btn-primary btn-lg btn-shadow" type="submit">REGISTER</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script src="{% static 'js/vendor/jquery-3.3.1.min.js' %}"></script>
<script src="{% static 'js/vendor/bootstrap.bundle.min.js' %}"></script> <!-- For alert dismissal -->
<script src="{% static 'js/dore.script.js' %}"></script>
<script src="{% static 'js/scripts.js' %}"></script>
</body>

</html>